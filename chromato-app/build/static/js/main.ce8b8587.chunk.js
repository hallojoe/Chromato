(this["webpackJsonpchromato-app"]=this["webpackJsonpchromato-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n,l,o=a(0),i=a.n(o),r=a(11),c=a.n(r),u=(a(18),{name:"Using React Context in a Typescript App",author:"thehappybug",url:"http://www.example.com",version:"1.0.0",workspace:{width:1600,zoom:1,backgroundImageOpacity:1,rootSize:16,previewElement:{borderRadius:0,fontSize:16,margin:10,size:{width:100,height:100},sizeConstrain:!0,text:"text"}},colorPalette:{elementSize:{width:4,height:4},suggestionsSize:{width:4,height:4},template:"<div><div style='background-color:var(--backgroundColor)'></div><div style='background-color:var(--foregroundColor)'></div></div>",suggestionStrategy:0,colorBehavior:0,generationStrategy:0,readabilityPolicy:0,combinationStrategy:1,readabilityDisplayStrategy:0,name:"default",combinations:{name:"combinations",value:[[]]},suggestions:[],selected:{one:{id:"a",name:"",value:"#000000"},two:{id:"b",name:"",value:"#ffffff"}},value:[],id:"x"},active:{}}),d=Object(o.createContext)({state:u,dispatch:function(){return null}}),s=a(1),v=a(8),m=a(7),g=(a(12),function(e){return JSON.parse(JSON.stringify(e))}),h=function e(t,a){Object(s.a)(this,e),this.id=void 0,this.value=void 0,this.id=a||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),this.value=t},p=a(9),y=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a);var l=new p.a("string"===typeof e?e:e.value);(n=t.call(this,l.toRgbString())).isDark=void 0,n.name=void 0,n.isDark=l.isDark();var o=l.toName();return n.name=o||"n/a",n}return a}(h);!function(e){e[e.Dim=0]="Dim",e[e.Hide=1]="Hide"}(n||(n={})),function(e){e[e.None=0]="None",e[e.SmallAA=1]="SmallAA",e[e.SmallAAA=2]="SmallAAA",e[e.LargeAA=3]="LargeAA",e[e.LargeAAA=4]="LargeAAA"}(l||(l={}));var f,b,C="<div style='background-color: var(--backgroundColor); width:100%; height:100%;'>\n  <div style='background-color: var(--foregroundColor); width:2rem; height:2rem; position: absolute; top: 1rem; left: 1rem;'> </div>\n</div>",S='<svg viewBox="0 0 720 720" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g id="Chromato" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <rect style="fill: var(--backgroundColor)" x="0" y="0" width="720" height="720"></rect>\n      <path d="M79.46,152.1 C100.88,152.1 115.86,137.96 118.1,115.56 L100.74,112.76 C98.78,128.02 91.36,136 79.46,136 C63.78,136 54.4,122.84 54.4,101 C54.4,79.3 63.78,66 79.46,66 C90.8,66 98.22,73.56 100.6,87.42 L117.82,84.62 C115.3,63.76 100.04,49.9 79.46,49.9 C53.7,49.9 36.9,70.2 36.9,101 C36.9,131.94 53.56,152.1 79.46,152.1 Z M146.1,150 L146.1,105.06 C146.1,95.54 152.12,89.38 161.78,89.38 C171.44,89.38 177.04,95.12 177.04,105.06 L177.04,150 L193.84,150 L193.84,101.42 C193.84,84.9 182.78,73.7 166.12,73.7 C158.14,73.7 150.58,77.06 146.38,82.38 L146.1,82.38 L146.1,47.8 L129.3,47.8 L129.3,150 L146.1,150 Z M225.34,150 L225.34,108.42 C225.34,96.52 229.82,90.78 238.36,90.78 C240.88,90.78 243.26,91.2 246.34,92.04 L249.28,75.66 C246.62,74.82 243.68,74.4 240.32,74.4 C233.18,74.4 227.72,77.48 224.64,82.24 L224.36,82.24 L224.36,75.8 L208.54,75.8 L208.54,150 L225.34,150 Z M291.56,152.1 C313.12,152.1 327.68,136.28 327.68,112.9 C327.68,89.52 313.12,73.7 291.56,73.7 C270.14,73.7 255.58,89.52 255.58,112.9 C255.58,136.28 270.14,152.1 291.56,152.1 Z M291.56,136.7 C279.52,136.7 272.38,127.74 272.38,112.9 C272.38,98.06 279.52,89.1 291.56,89.1 C303.6,89.1 310.88,98.06 310.88,112.9 C310.88,127.74 303.6,136.7 291.56,136.7 Z M356.66,150 L356.66,103.66 C356.66,94.84 361.84,89.1 369.96,89.1 C377.8,89.1 383.12,94.28 383.12,102.96 L383.12,150 L398.94,150 L398.94,103.66 C398.94,94.84 404.12,89.1 412.24,89.1 C420.22,89.1 425.4,94.28 425.4,102.96 L425.4,150 L441.78,150 L441.78,100.02 C441.78,85.18 430.86,73.7 414.76,73.7 C406.36,73.7 399.64,77.06 394.74,82.94 L394.46,82.94 C390.4,77.2 382.84,73.7 375.28,73.7 C367.72,73.7 360.44,76.78 356.38,82.1 L356.1,82.1 L356.1,75.8 L340.28,75.8 L340.28,150 L356.66,150 Z M478.6,152.1 C487.7,152.1 494.98,149.02 498.76,143.56 L499.04,143.56 L499.04,150 L514.3,150 L514.3,100.58 C514.3,83.92 503.1,73.7 485.18,73.7 C468.66,73.7 456.06,83.36 453.68,97.92 L469.5,101.28 C471.04,93.02 476.78,88.12 485.18,88.12 C492.6,88.12 497.08,91.2 497.08,96.52 C497.08,101.14 493.16,103.52 480.7,106.6 C461.66,111.08 454.24,117.8 454.24,130.26 C454.24,143.56 463.9,152.1 478.6,152.1 Z M481.4,137.54 C474.26,137.54 470.48,134.74 470.48,129.14 C470.48,124.52 474.26,121.72 484.62,119.06 C492.46,116.82 496.1,114.86 497.5,112.2 L497.78,112.2 L497.78,124.94 C497.78,132.36 491.06,137.54 481.4,137.54 Z M566.94,150 L566.94,133.9 L559.52,133.9 C553.5,133.9 551.68,132.36 551.68,127.6 L551.68,90.78 L570.02,90.78 L570.02,75.8 L551.68,75.8 L551.68,57.74 L534.88,57.74 L534.88,75.8 L522.7,75.8 L522.7,90.78 L534.88,90.78 L534.88,128.44 C534.88,144.12 541.32,150 557.98,150 L566.94,150 Z M614.12,152.1 C635.68,152.1 650.24,136.28 650.24,112.9 C650.24,89.52 635.68,73.7 614.12,73.7 C592.7,73.7 578.14,89.52 578.14,112.9 C578.14,136.28 592.7,152.1 614.12,152.1 Z M614.12,136.7 C602.08,136.7 594.94,127.74 594.94,112.9 C594.94,98.06 602.08,89.1 614.12,89.1 C626.16,89.1 633.44,98.06 633.44,112.9 C633.44,127.74 626.16,136.7 614.12,136.7 Z M82.54,280 L82.54,198.1 L111.66,198.1 L111.66,182 L35.92,182 L35.92,198.1 L65.04,198.1 L65.04,280 L82.54,280 Z M155.34,282.1 C169.48,282.1 180.4,276.08 187.12,264.32 L174.8,255.36 C169.2,264.04 163.6,267.54 155.34,267.54 C144.7,267.54 137.98,259.56 137.42,247.8 L189.36,247.8 L189.36,242.06 C189.36,219.24 175.64,203.7 155.06,203.7 C134.62,203.7 120.48,219.66 120.48,242.9 C120.48,266.28 134.62,282.1 155.34,282.1 Z M172.7,235.48 L137.56,235.48 C138.12,225.68 145.4,218.26 155.2,218.26 C165.7,218.26 172.14,225.12 172.7,235.48 Z M231.78,282.1 C249.28,282.1 260.76,273.14 260.76,259.56 C260.76,244.02 247.46,238.7 232.34,234.36 C222.82,231.7 217.5,229.6 217.5,225.4 C217.5,220.92 221.84,217.98 228.84,217.98 C236.12,217.98 241.44,221.9 243.96,229.88 L259.36,225.54 C256,212.38 243.68,203.7 228.84,203.7 C213.16,203.7 201.54,213.08 201.54,225.68 C201.54,239.26 213.02,243.88 227.16,247.94 C238.22,251.3 244.8,253.96 244.8,260.26 C244.8,264.88 239.9,267.82 231.78,267.82 C220.86,267.82 215.4,262.92 213.02,251.72 L197.76,255.64 C200.56,272.58 212.88,282.1 231.78,282.1 Z M309.9,280 L309.9,263.9 L302.48,263.9 C296.46,263.9 294.64,262.36 294.64,257.6 L294.64,220.78 L312.98,220.78 L312.98,205.8 L294.64,205.8 L294.64,187.74 L277.84,187.74 L277.84,205.8 L265.66,205.8 L265.66,220.78 L277.84,220.78 L277.84,258.44 C277.84,274.12 284.28,280 300.94,280 L309.9,280 Z" \n        id="ChromatoTest" \n        style="fill: var(--foregroundColor)" \n        fill-rule="nonzero">\n      </path>\n      <path d="M611.779926,555 L675,617.603722 L674.463,618.135 L674.726852,618.396278 L611.506778,681 L602,671.585907 L649.044,625 L367,625 L367,612 L650.328,612 L602.273148,564.414093 L611.779926,555 Z" \n        id="Combined-Shape" \n        style="fill: var(--foregroundColor)">\n      </path>\n  </g>\n</svg> ',E=function(e){var t=e.value;return t||(t=C),i.a.createElement("div",{className:"unsafeHtmlElement",dangerouslySetInnerHTML:{__html:t}})};!function(e){e.InitPalette="palette/initialize",e.CreatePalette="palette/create",e.DeletePalette="palette/delete",e.AddPaletteColor="palette/color/add",e.RemovePaletteColor="palette/color/remove",e.SetPaletteColor="palette/color/set",e.SuggestPaletteColors="palette/color/suggest",e.SetBackgroundColor="active/color/background",e.SetForegroundColor="active/color/foreground",e.SetColor="active/color/auto",e.SetColor2D="palette/active/color2D",e.SetCombinationStrategy="palette/combinationStrategy/set",e.SetReadabilityPolicy="palette/readabilityPolicy/set",e.SetReadabilityDisplayStrategy="palette/readabilityDisplayStrategy/set",e.SetGenerationStrategy="palette/generationStrategy/set",e.SetColorBehavior="palette/colorBehavior/set",e.SetSuggestionStrategy="palette/suggestionStrategy/set",e.SetTemplate="palette/template/set",e.SetSuggestionSize="palette/suggestionSize/set",e.SetElementSize="palette/elementSize/set"}(f||(f={})),function(e){e[e.LightOnDark=0]="LightOnDark",e[e.DarkOnLight=1]="DarkOnLight"}(b||(b={}));var w,A=function(e){var t=e.value,a=e.onClick;return i.a.createElement("div",{className:"generatedSetList",style:{display:"flex"}},t.map((function(e,t){return i.a.createElement(L,{onClick:a,value:e,key:"gsl"+t})})))},L=function(e){var t,a,n=e.value,l=e.onClick,r=Object(o.useContext)(d),c=r.state,u=(r.dispatch,null!==(t=null===(a=c.colorPalette)||void 0===a?void 0:a.elementSize.width)&&void 0!==t?t:4),s=n.value.length>0?n.value[0].length*u:8;return i.a.createElement("div",{className:"generatedSet"},i.a.createElement("div",{className:"f",style:{width:"".concat(s,"rem")}},n.value.map((function(e,t){return i.a.createElement("div",{key:"gsrow".concat(t)},e.map((function(e,a){return i.a.createElement(k,{value:e,onClick:l,key:"gs".concat(t).concat(a)})})))}))))},k=function(e){var t,a,r,c,u,s,v,m,g,h,p,y,C,S,w,A,L,k,P,x,D,O,z,N,j,M,B,R=e.value,F=(e.onClick,Object(o.useContext)(d)),T=F.state,H=F.dispatch,Z={"--foregroundColor":(null===(t=T.colorPalette)||void 0===t?void 0:t.colorBehavior)===b.LightOnDark?R.two.value:R.one.value,"--backgroundColor":(null===(a=T.colorPalette)||void 0===a?void 0:a.colorBehavior)===b.LightOnDark?R.one.value:R.two.value,width:"".concat((null===(r=T.colorPalette)||void 0===r||null===(c=r.elementSize)||void 0===c?void 0:c.width)?T.colorPalette.elementSize.width:4,"rem"),height:"".concat((null===(u=T.colorPalette)||void 0===u||null===(s=u.elementSize)||void 0===s?void 0:s.height)?T.colorPalette.elementSize.height:4,"rem")};if((null===(v=T.colorPalette)||void 0===v?void 0:v.readabilityDisplayStrategy)===n.Dim)switch(null===(m=T.colorPalette)||void 0===m?void 0:m.readabilityPolicy){case l.SmallAA:Z.opacity=(null===(g=R.readability)||void 0===g||null===(h=g.small)||void 0===h?void 0:h.aa)?"1":".2";break;case l.SmallAAA:Z.opacity=(null===(p=R.readability)||void 0===p||null===(y=p.small)||void 0===y?void 0:y.aaa)?"1":".2";break;case l.LargeAA:Z.opacity=(null===(C=R.readability)||void 0===C||null===(S=C.large)||void 0===S?void 0:S.aa)?"1":".2";break;case l.LargeAAA:Z.opacity=(null===(w=R.readability)||void 0===w||null===(A=w.small)||void 0===A?void 0:A.aa)?"1":".2"}if((null===(L=T.colorPalette)||void 0===L?void 0:L.readabilityDisplayStrategy)===n.Hide)switch(null===(k=T.colorPalette)||void 0===k?void 0:k.readabilityPolicy){case l.SmallAA:(null===(P=R.readability)||void 0===P||null===(x=P.small)||void 0===x?void 0:x.aa)||(Z.display="none");break;case l.SmallAAA:(null===(D=R.readability)||void 0===D||null===(O=D.small)||void 0===O?void 0:O.aaa)||(Z.display="none");break;case l.LargeAA:(null===(z=R.readability)||void 0===z||null===(N=z.large)||void 0===N?void 0:N.aa)||(Z.display="none");break;case l.LargeAAA:(null===(j=R.readability)||void 0===j||null===(M=j.large)||void 0===M?void 0:M.aaa)||(Z.display="none")}return i.a.createElement("div",{title:"".concat(R.two.value," on ").concat(R.one.value," ").concat(R.description),key:R.one.id,style:Z,onClick:function(){return e=R,void H({type:f.SetColor2D,payload:{color2D:e}});var e},className:"color"},i.a.createElement(E,{value:null===(B=T.colorPalette)||void 0===B?void 0:B.template}))};!function(e){e[e.Brightness=0]="Brightness",e[e.Full=1]="Full"}(w||(w={}));var P,x=function(){var e,t,a,n,l,r=Object(o.useContext)(d),c=r.state,u=r.dispatch,s=function(e){u({type:f.SetCombinationStrategy,payload:{combinationStrategy:e}})},v=function(e){u({type:f.SetColorBehavior,payload:{colorBehavior:e}})};if(!c.colorPalette)throw Error("state.colorPalette cannot be empty!");return i.a.createElement("div",null,i.a.createElement("h4",null,"Combinations"),i.a.createElement("form",null,i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:w.Brightness,checked:(null===(e=c.colorPalette)||void 0===e?void 0:e.combinationStrategy)===w.Brightness,onChange:function(){return s(w.Brightness)}}),"Deterministic",i.a.createElement("small",null,"Combine colors based on percieved brightness."),(null===(t=c.colorPalette)||void 0===t?void 0:t.combinationStrategy)===w.Brightness&&i.a.createElement("div",null,i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:b.LightOnDark,checked:(null===(a=c.colorPalette)||void 0===a?void 0:a.colorBehavior)===b.LightOnDark,onChange:function(){return v(b.LightOnDark)}}),"Horizontal",i.a.createElement("small",null,"Generate light foreground colors on dark background colors."))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:b.DarkOnLight,checked:(null===(n=c.colorPalette)||void 0===n?void 0:n.colorBehavior)===b.DarkOnLight,onChange:function(){return v(b.DarkOnLight)}}),"Vertical",i.a.createElement("small",null,"Generate dark foreground colors on light background colors.")))))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:w.Full,checked:(null===(l=c.colorPalette)||void 0===l?void 0:l.combinationStrategy)===w.Full,onChange:function(){return s(w.Full)}}),"None",i.a.createElement("small",null,"Combine all the things.")))))};!function(e){e[e.Current=0]="Current",e[e.All=1]="All"}(P||(P={}));var D,O=function(){var e,t,a=Object(o.useContext)(d),n=a.state,l=a.dispatch,r=function(e){l({type:f.SetGenerationStrategy,payload:{generationStrategy:e}})};if(!n.colorPalette)throw Error("state.colorPalette cannot be empty!");return i.a.createElement("div",null,i.a.createElement("h4",null,"Amount"),i.a.createElement("form",null,i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:P.Current,checked:(null===(e=n.colorPalette)||void 0===e?void 0:e.generationStrategy)===P.Current,onChange:function(){return r(P.Current)}}),"Current",i.a.createElement("small",null,"Show only working color combinations. An approach your brain can follow."))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:P.All,checked:(null===(t=n.colorPalette)||void 0===t?void 0:t.generationStrategy)===P.All,onChange:function(){return r(P.All)}}),"All",i.a.createElement("small",null,"Show all color combinations. This may rape your DOM, but it lookool.")))))},z=function(){var e,t,a,n,r,c=Object(o.useContext)(d),u=c.state,s=c.dispatch,v=function(e){s({type:f.SetReadabilityPolicy,payload:{readabilityPolicy:e}})};if(!u.colorPalette)throw Error("state.colorPalette cannot be empty!");return i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:l.None,checked:(null===(e=u.colorPalette)||void 0===e?void 0:e.readabilityPolicy)===l.None,onChange:function(){return v(l.None)}}),"None",i.a.createElement("small",null,"Apply no readability policy."))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:l.SmallAA,checked:(null===(t=u.colorPalette)||void 0===t?void 0:t.readabilityPolicy)===l.SmallAA,onChange:function(){return v(l.SmallAA)}}),"Small AA",i.a.createElement("small",null,"// TODO: describe "))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:l.SmallAAA,checked:(null===(a=u.colorPalette)||void 0===a?void 0:a.readabilityPolicy)===l.SmallAAA,onChange:function(){return v(l.SmallAAA)}}),"Small AAA",i.a.createElement("small",null,"// TODO: describe "))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:l.LargeAA,checked:(null===(n=u.colorPalette)||void 0===n?void 0:n.readabilityPolicy)===l.LargeAA,onChange:function(){return v(l.LargeAA)}}),"Large AA",i.a.createElement("small",null,"// TODO: describe "))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:l.LargeAAA,checked:(null===(r=u.colorPalette)||void 0===r?void 0:r.readabilityPolicy)===l.LargeAAA,onChange:function(){return v(l.LargeAAA)}}),"Large AAA",i.a.createElement("small",null,"// TODO: describe "))),i.a.createElement("p",null,"Readability policies based on ",i.a.createElement("a",{href:"https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef",target:"_blank",rel:"noopener noreferrer",title:"Web Content Accessibility Guidelines, Version 2.0"},"WCAG 2.0"))))},N=function(){var e,t,a=Object(o.useContext)(d),l=a.state,r=a.dispatch,c=function(e){r({type:f.SetReadabilityDisplayStrategy,payload:{readabilityDisplayStrategy:e}})};if(!l.colorPalette)throw Error("state.colorPalette cannot be empty!");return i.a.createElement("div",null,i.a.createElement("p",null,"Readability display:"),i.a.createElement("form",null,i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:n.Dim,checked:(null===(e=l.colorPalette)||void 0===e?void 0:e.readabilityDisplayStrategy)===n.Dim,onChange:function(){return c(n.Dim)}}),"Dim",i.a.createElement("small",null,"Dim(set opacity) on colors not readable according to readability policy."))),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:n.Hide,checked:(null===(t=l.colorPalette)||void 0===t?void 0:t.readabilityDisplayStrategy)===n.Hide,onChange:function(){return c(n.Hide)}}),"Hide",i.a.createElement("small",null,"Hide colors not readable according to readability policy.")))))},j=a(3);!function(e){e[e.None=0]="None",e[e.Shades=1]="Shades",e[e.Tints=2]="Tints",e[e.Tones=4]="Tones",e[e.Analogous=8]="Analogous",e[e.Monochrome=16]="Monochrome",e[e.All=31]="All",e[e["Shades#Suggest shades from current color."]=1]="Shades#Suggest shades from current color.",e[e["Tints#Suggest tints from current color."]=2]="Tints#Suggest tints from current color.",e[e["Tones#Suggest tones from current color."]=4]="Tones#Suggest tones from current color.",e[e["Analogous#Suggest analogous from current color."]=8]="Analogous#Suggest analogous from current color.",e[e["Monochrome#Suggest monochromes from current color."]=16]="Monochrome#Suggest monochromes from current color.",e[e["Everything#Suggest everything above from current color."]=31]="Everything#Suggest everything above from current color."}(D||(D={}));var M,B;!function(e){e[e.None=0]="None",e[e.Add=1]="Add",e[e.Remove=2]="Remove",e[e.Delete=3]="Delete",e[e.Update=4]="Update",e[e.Check=5]="Check",e[e.Uncheck=6]="Uncheck"}(M||(M={})),function(e){e[e.Number=0]="Number",e[e.Range=1]="Range"}(B||(B={}));var R,F=function(e){var t=e.configuration,a=e.value,n=e.onDisplay,l=e.onInput,r=e.onChange,c=Object(o.useRef)(null);return i.a.createElement("div",{className:"numericInput"},i.a.createElement("input",{disabled:!!(null===t||void 0===t?void 0:t.disabled)&&t.disabled,ref:c,type:(null===t||void 0===t?void 0:t.type)===B.Number?"number":"range",min:null===t||void 0===t?void 0:t.min,max:null===t||void 0===t?void 0:t.max,step:null===t||void 0===t?void 0:t.step,value:n?n(a):a,onInput:function(){var e,a;if(!(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.value))return!1;var n=+(null===c||void 0===c||null===(a=c.current)||void 0===a?void 0:a.value),o=!l||l(n),i=!(null===t||void 0===t?void 0:t.min)||n>=t.min,r=!(null===t||void 0===t?void 0:t.max)||n<=t.max;return!isNaN(n)&&i&&r&&o},onChange:function(){var e;if(null===(e=c.current)||void 0===e?void 0:e.value){var t=+c.current.value;a=t,t&&r&&r(a)}}}),(null===t||void 0===t?void 0:t.unit)&&i.a.createElement("span",null,t.unit))},T=function(e){var t=e.configuration,a=e.value,n=e.onChange,l=e.onDisplay,o=function(e,a){var n,l,o,i;return!e||!a||(!((null===t||void 0===t||null===(n=t.width)||void 0===n?void 0:n.min)&&(null===t||void 0===t||null===(l=t.height)||void 0===l?void 0:l.min)&&(null===t||void 0===t||null===(o=t.width)||void 0===o?void 0:o.max)&&(null===t||void 0===t||null===(i=t.height)||void 0===i?void 0:i.max))||e>=t.width.min&&e<=t.width.max&&a>=t.height.min&&a<=t.height.max)};return i.a.createElement("div",{className:"sizeInput"},i.a.createElement(F,{configuration:null===t||void 0===t?void 0:t.width,value:null===a||void 0===a?void 0:a.width,onDisplay:function(e){return l?l(e):e},onInput:function(e){return o(e,null===a||void 0===a?void 0:a.height)},onChange:function(e){var l,o,i,r;if(a)if((null===t||void 0===t?void 0:t.constrain)||!n){var c=1+(e-a.width)/a.width,u=a.height*c;(null===t||void 0===t||null===(l=t.height)||void 0===l?void 0:l.min)&&u<(null===t||void 0===t||null===(o=t.height)||void 0===o?void 0:o.min)||(null===t||void 0===t||null===(i=t.height)||void 0===i?void 0:i.max)&&u>(null===t||void 0===t||null===(r=t.height)||void 0===r?void 0:r.max)||e&&u&&n&&n({width:e,height:u})}else n({width:e,height:a.height})}}),i.a.createElement(F,{configuration:null===t||void 0===t?void 0:t.height,value:null===a||void 0===a?void 0:a.height,onDisplay:function(e){return l?l(e):e},onInput:function(e){return o(null===a||void 0===a?void 0:a.width,e)},onChange:function(e){var l,o,i,r;if(a)if((null===t||void 0===t?void 0:t.constrain)||!n){var c=1+(e-a.height)/a.height,u=a.width*c;(null===t||void 0===t||null===(l=t.width)||void 0===l?void 0:l.min)&&u<(null===t||void 0===t||null===(o=t.width)||void 0===o?void 0:o.min)||(null===t||void 0===t||null===(i=t.width)||void 0===i?void 0:i.max)&&u>(null===t||void 0===t||null===(r=t.width)||void 0===r?void 0:r.max)||e&&e&&n&&n({width:u,height:e})}else n({width:a.width,height:e})}}))},H=function(){var e=Object(o.useContext)(d),t=e.state,a=e.dispatch;if(!t.colorPalette)throw Error("state.colorPalette cannot is nothing.");return i.a.createElement("div",null,i.a.createElement("h4",null,"Suggestions"),i.a.createElement("form",null,[D.Shades,D.Tints,D.Tones,D.Analogous,D.Monochrome,D.All].map((function(e,n){var l,o,r=null!==(l=null===(o=t.colorPalette)||void 0===o?void 0:o.suggestionStrategy)&&void 0!==l?l:D.None,c=D[e].split("#"),u=Object(j.a)(c,2),d=u[0],s=u[1];return i.a.createElement("div",{className:"checkbox",key:"checkbox-".concat(n)},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",value:e,checked:e===(r&e),onChange:function(t){return function(e,t){var n;a({type:f.SetSuggestionStrategy,payload:{suggestionStrategy:e,namedOperation:(null===t||void 0===t||null===(n=t.currentTarget)||void 0===n?void 0:n.checked)?M.Add:M.Remove}})}(e,t)}}),d," ",i.a.createElement("small",null,s)))})),i.a.createElement("p",null,"Suggestions space."),i.a.createElement(T,{configuration:{constrain:!1,width:{min:1,max:16,step:1,unit:"x",type:B.Number,disabled:!1},height:{min:1,max:16,step:1,unit:"colors",type:B.Number,disabled:!1}},value:t.colorPalette.suggestionsSize,onDisplay:function(e){return Math.round(e)},onChange:function(e){a({type:f.SetSuggestionSize,payload:{size:e}})}})))},Z=function(e){var t=Object(o.useRef)(null);return i.a.createElement("div",{className:"FileInput"},i.a.createElement("input",{type:"file",style:{display:"none"},ref:t,multiple:e.multiple,accept:e.typePattern,onChange:function(t){return function(t){if(t&&null!==t){e.onStart&&e.onStart(t);for(var a=function(a){var n=t[a],l=e.typePattern?e.typePattern:null;if(null===l||!n.type.match(l))return"continue";var o=new FileReader;o.readAsText(n),o.onload=function(t){var a,n=null===(a=o.result)||void 0===a?void 0:a.toString();n&&e.onChange&&e.onChange(n)}},n=0;n<t.length;n++)a(n);e.onComplete&&e.onComplete(!0)}}(t.target.files)}}),i.a.createElement("button",{onClick:function(e){e.preventDefault(),t.current&&t.current.click()}},e.children))},I=function(){var e=Object(o.useRef)(null),t=Object(o.useState)({constrain:!1,width:{min:1,max:50,step:1,unit:"x",type:B.Number,disabled:!1},height:{min:1,max:50,step:1,unit:"rem",type:B.Number,disabled:!1}}),a=Object(j.a)(t,2),n=a[0],l=a[1],r=Object(o.useContext)(d),c=r.state,u=r.dispatch,s=function(e){if(e){var t=m(e);u({type:f.SetTemplate,payload:{template:t}})}},v=function(e){var t=e.match(/(?:#[a-fA-F0-9]{3,6}|rgba?\([^\)]+\))/gm);return t?(t=t.filter((function(e,t,a){return a.indexOf(e)===t})),console.log(t),t):[]},m=function(e){var t=v(e);if(0===t.length)return e;if(1===t.length)return e.replace(t[0],"var(--foregroundColor)");var a=t.map((function(e){return{color:new p.a(e),input:e}})),n=Object(j.a)(a,2),l=n[0],o=n[1],i=l.color.getBrightness()<o.color.getBrightness()?[o,l]:[l,o],r=Object(j.a)(i,2),c=r[0],u=r[1];return e=(e=e.split(u.input).join("var(--backgroundColor)")).split(c.input).join("var(--foregroundColor)")};if(!c.colorPalette)throw Error("state.colorPalette cannot be empty!");return i.a.createElement("div",null,i.a.createElement("h4",null,"Template"),i.a.createElement("p",null,"Set template"),i.a.createElement("form",null,i.a.createElement("div",null,i.a.createElement("p",null,"Elements size. This size will be reserved for each ",i.a.createElement("q",null,"Color element"),". Overflow is hidden, som make sure template size comply with this. "),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("input",{type:"checkbox",checked:n.constrain,onChange:function(e){if(n){var t=g(n);t.constrain=e.currentTarget.checked,l(t)}}}),i.a.createElement(T,{configuration:n,value:c.colorPalette.elementSize,onDisplay:function(e){return Math.round(e)},onChange:function(e){u({type:f.SetElementSize,payload:{size:e}})}}))),i.a.createElement("div",null,i.a.createElement(Z,{multiple:!0,typePattern:".svg",onChange:function(e){s(e)}},"add svg")),i.a.createElement("div",null,i.a.createElement("pre",null,C),i.a.createElement("pre",null,S),i.a.createElement("textarea",{ref:e,defaultValue:S}),i.a.createElement("button",{onClick:function(e){return e.preventDefault(),s('<svg xmlns="http://www.w3.org/2000/svg" width="2500" height="2500" viewBox="0 0 192.756 192.756"><g fill-rule="evenodd" clip-rule="evenodd"><path fill="#fff" d="M0 0h192.756v192.756H0V0z"/><path d="M34.175 107.36c-1.488 0-2.653 1.041-2.653 2.56 0 1.52 1.171 2.555 2.653 2.555 1.481 0 2.653-1.042 2.653-2.555 0-1.519-1.166-2.56-2.653-2.56zm0 4.383c-1.061 0-1.848-.775-1.848-1.823 0-1.047.781-1.828 1.848-1.828 1.054 0 1.847.793 1.847 1.828 0 1.029-.8 1.823-1.847 1.823zM59.99 98.406H47.075l1.468-22.448-8.387 22.448H28.163l19.029-50.739h12.761L58.48 70.423l8.546-22.756H79.02L59.99 98.406zM61.548 98.406l19.028-50.739h11.993L73.541 98.406H61.548z"/><path d="M26.78 80.917c-16.759 19.681-32.568 45.868-18.604 57.927 13.531 11.686 30.444 4.767 41.976.154s138.995-59.965 138.995-59.965c1.23-.615 1-1.384-.538-1-.62.155-138.764 37.593-138.764 37.593-17.53 4.921-37.518-5.804-23.065-34.709z"/><path d="M34.627 110.1c.372-.018.663-.21.663-.725 0-.664-.434-.831-1.159-.831h-1.042v2.753h.695v-1.172h.117l.633 1.172h.799l-.706-1.197zm-.446-.446h-.396v-.639h.334c.205 0 .44.024.44.291 0 .286-.136.348-.378.348zM154.733 47.512c-1.488 0-2.653 1.042-2.653 2.56 0 1.519 1.172 2.554 2.653 2.554s2.653-1.042 2.653-2.554c.001-1.518-1.164-2.56-2.653-2.56zm0 4.384c-1.061 0-1.848-.775-1.848-1.823 0-1.047.781-1.828 1.848-1.828 1.054 0 1.848.793 1.848 1.828 0 1.029-.8 1.823-1.848 1.823z"/><path d="M155.186 50.252c.372-.018.664-.21.664-.725 0-.664-.435-.831-1.159-.831h-1.042v2.752h.694v-1.171h.118l.632 1.171h.8l-.707-1.196zm-.447-.446h-.396v-.639h.335c.204 0 .44.025.44.292 0 .285-.137.347-.379.347zM146.831 56.124l3.223-8.457H113.46l-12.565 15.222 5.801-15.222H94.549L75.673 98.406h11.993l8.059-21.218.552 21.218 36.799-.08 3.503-9.76h-13.991l4.597-12.3h11.531l3.548-9.456h-11.531l3.953-10.686h12.145zm-38.656 38.899l-.769-26.445 18.133-19.909-17.364 46.354z"/></g></svg>')}},"Set template"))))},G=function(){return i.a.createElement("div",{style:{position:"absolute",right:"0",top:"0",width:"40rem",backgroundColor:"white",padding:"2rem"}},i.a.createElement(O,null),i.a.createElement(x,null),i.a.createElement("div",null,i.a.createElement("h4",null,"Readability policy"),i.a.createElement(z,null),i.a.createElement(N,null)),i.a.createElement(H,null),i.a.createElement(I,null))},U=function(e){var t=e.color,a=e.onClick,n=e.onDoubleClick;return i.a.createElement("div",{title:"color: ".concat(t.value," aka. ").concat(t.name),style:{backgroundColor:t.value},className:"color",onClick:a,onDoubleClick:n},i.a.createElement("div",null))};!function(e){e[e.None=0]="None",e[e.DarkLight=1]="DarkLight"}(R||(R={}));var W,J=function(){var e,t=Object(o.useContext)(d),a=t.state,n=t.dispatch;Object(o.useEffect)((function(){l()}),[]);var l=function(){n({type:f.InitPalette,payload:{}})},r=function(e){n({type:f.RemovePaletteColor,payload:{color:e}})},c=function(e){n({type:f.SetPaletteColor,payload:{color:e}})};return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("span",null," [Chromato Logo goes here] "),"[Color picking icon goes here ",i.a.createElement("input",{type:"color",title:"Add Color",onBlur:function(e){return t=e.target.value,void n({type:f.AddPaletteColor,payload:{color:new y(t)}});var t}}),"]"),i.a.createElement("div",{className:""},i.a.createElement("div",{className:""},(null===(e=a.colorPalette)||void 0===e?void 0:e.generationStrategy)!==P.All&&i.a.createElement("div",null,i.a.createElement("div",{className:"f",style:{width:"100%"}},(null===a||void 0===a?void 0:a.colorPalette)&&a.colorPalette&&a.colorPalette.value.map((function(e,t){return e&&e.isDark&&i.a.createElement(U,{key:"dark".concat(t),color:e,onClick:function(){return c(e)},onDoubleClick:function(){return r(e)}})})),(null===a||void 0===a?void 0:a.colorPalette)&&a.colorPalette.value.map((function(e,t){return!e.isDark&&i.a.createElement(U,{key:"light".concat(t),color:e,onClick:function(){return c(e)},onDoubleClick:function(){return r(e)}})})))),i.a.createElement("div",{style:{display:"flexx"}},i.a.createElement("div",null,(null===a||void 0===a?void 0:a.colorPalette)&&i.a.createElement(L,{value:null===a||void 0===a?void 0:a.colorPalette.combinations,onClick:function(){return console.log("clcik")}}),i.a.createElement("div",null,(null===a||void 0===a?void 0:a.colorPalette)&&i.a.createElement(A,{value:null===a||void 0===a?void 0:a.colorPalette.suggestions,onClick:function(){return console.log("clcik")}})))))),i.a.createElement(G,null))},V=["#FFFFFF","#000000","#2112E6","#FFC1B9","#FFA195","#FE6350","#993B30","#662920","#B7A1E3","#9471D5","#4C13B9","#2E0B6F","#1E084A","#99C5C0","#66A9A0","#006F61","#00433A","#002C27","#FFEF99","#FFE765","#FFD700","#998100","#675600","#191919","#333333","#4C4C4C","#666666","#7F7F7F","#999999","#B2B2B2","#CCCCCC","#E5E5E5"],_=a(2),q=function e(t,a){Object(s.a)(this,e),this.name=void 0,this.value=void 0,this.name=t,this.value=a||new Array};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(W||(W={}));var $=a(20),K=function e(t,a){Object(s.a)(this,e),this.one=void 0,this.two=void 0,this.active=void 0,this.readability=void 0,this.description=void 0,this.one=new y(t),this.two=new y(a),this.active=W.One,this.readability={large:{aa:Object($.a)(this.one.value,this.two.value,{level:"AA",size:"large"}),aaa:Object($.a)(this.one.value,this.two.value,{level:"AAA",size:"large"})},small:{aa:Object($.a)(this.one.value,this.two.value,{level:"AA",size:"small"}),aaa:Object($.a)(this.one.value,this.two.value,{level:"AAA",size:"small"})}}},Q=function(e){return{first:new p.a(e.one.value),last:new p.a(e.two.value)}},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(e+1)*(100/t);return a?-n:n},Y=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:4,height:4},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Q(e),l=new q("shades"),o=0;o<t.width;o++){for(var i=X(o,t.width,a),r=new Array,c=0;c<t.height;c++){var u=X(c,t.height,a),d=new K(n.first.shade(i).toRgbString(),n.last.shade(u).toRgbString());d.description="shaded by ".concat(i," and ").concat(u),r.push(d)}l.value.push(r)}return l}}]),e}(),ee=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:4,height:4},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Q(e),l=new q("tints"),o=0;o<t.width;o++){for(var i=X(o,t.width),r=new Array,c=0;c<t.height;c++){var u=X(c,t.height,a),d=new K(n.first.tint(i).toRgbString(),n.last.tint(u).toRgbString());d.description="tinted by ".concat(i," and ").concat(u),r.push(d)}l.value.push(r)}return l}}]),e}(),te=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:4,height:4},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Q(e),l=new q("tones"),o=0;o<t.width;o++){for(var i=X(o,t.width),r=new Array,c=0;c<t.height;c++){var u=X(c,t.height,a),d=new K(n.first.tint(i).shade(i).toRgbString(),n.last.tint(u).shade(u).toRgbString());d.description="toned by ".concat(i," and ").concat(u),r.push(d)}l.value.push(r)}return l}}]),e}(),ae=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:4,height:4},a=new p.a(e.one.value),n=new p.a(e.two.value),l=new q("analogous"),o=a.analogous(t.width+1).map((function(e){return e.toRgbString()})).splice(1),i=n.analogous(t.height+1).map((function(e){return e.toRgbString()})).splice(1),r=0;r<t.width;r++){for(var c=new Array,u=0;u<t.height;u++){var d=new K(o[r],i[u]);d.description="analogized by (".concat(r,", ").concat(u,")"),c.push(d)}l.value.push(c)}return l}}]),e}(),ne=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:4,height:4},a=new p.a(e.one.value),n=new p.a(e.two.value),l=new q("monochrome"),o=a.monochromatic(t.width+1).map((function(e){return e.toRgbString()})).splice(1),i=n.monochromatic(t.height+1).map((function(e){return e.toRgbString()})).splice(1),r=0;r<t.width;r++){for(var c=new Array,u=0;u<t.height;u++){var d=new K(o[r],i[u]);d.description="monochromed",c.push(d)}l.value.push(c)}return l}}]),e}(),le=function(){function e(){Object(s.a)(this,e)}return Object(_.a)(e,[{key:"combine",value:function(e,t){for(var a=new q(""),n=0;n<e.length;n++){for(var l=new Array,o=0;o<t.length;o++){var i=new K(e[n].value,t[o].value);l.push(i)}a.value.push(l)}return a}}]),e}(),oe=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,[])).name=void 0,o.selected=void 0,o.suggestions=void 0,o.combinations=void 0,o.combinationStrategy=void 0,o.readabilityPolicy=void 0,o.readabilityDisplayStrategy=void 0,o.generationStrategy=void 0,o.colorBehavior=void 0,o.suggestionStrategy=void 0,o.suggestionsSize=void 0,o.elementSize=void 0,o.template=void 0,o.name=e,o.selected=new K("black","white"),o.combinations=new q("combinations"),o.suggestions=new Array,o.combinationStrategy=w.Brightness,o.readabilityPolicy=l.None,o.readabilityDisplayStrategy=n.Dim,o.generationStrategy=P.Current,o.colorBehavior=b.LightOnDark,o.suggestionStrategy=D.None,o.suggestionsSize={width:4,height:4},o.elementSize={width:4,height:4},o.template="",o}return a}(h),ie=function(e,t){var a=g(e),n=function(e){if(e){var t=a.value.findIndex((function(t){return t.value===e.value}));return a.value[t]}},l=function(){if(a.combinationStrategy===w.Brightness){var e=a.value.filter((function(e){return a.selected.one.isDark?!e.isDark:e.isDark}));if(a.generationStrategy===P.All){var t=a.value.filter((function(e){return a.selected.one.isDark?e.isDark:!e.isDark}));a.combinations=(new le).combine(t,e)}else a.combinations=(new le).combine([a.selected.one],e)}a.combinationStrategy===w.Full&&(a.generationStrategy===P.All?a.combinations=(new le).combine(a.value,a.value):a.combinations=(new le).combine([a.selected.one],a.value))};switch(t.type){case f.InitPalette:var o=new oe("name");return V.forEach((function(e){return e?o.value.push(new y(e)):void 0})),o.combinationStrategy=0,o;case f.AddPaletteColor:return n(t.payload.color)||(a.value.push(t.payload.color),l()),a;case f.RemovePaletteColor:var i=n(t.payload.color);return i?(a.value.splice(a.value.indexOf(i),1),a):a;case f.SetPaletteColor:return a.selected.one=t.payload.color,a.suggestions=[],l(),a;case f.SetColor2D:return a.selected=t.payload.color2D,a.suggestions=function(t){var n=[];D.Shades===(e.suggestionStrategy&D.Shades)&&n.push(new Y),D.Tints===(e.suggestionStrategy&D.Tints)&&n.push(new ee),D.Tones===(e.suggestionStrategy&D.Tones)&&n.push(new te),D.Analogous===(e.suggestionStrategy&D.Analogous)&&n.push(new ae),D.Monochrome===(e.suggestionStrategy&D.Monochrome)&&n.push(new ne);var l=[];return n.forEach((function(e,n){l.push(e.combine(t,a.suggestionsSize,!0)),l.push(e.combine(t,a.suggestionsSize,!1))})),l}(a.selected),a;case f.SetCombinationStrategy:return a.combinationStrategy=t.payload.combinationStrategy,l(),a;case f.SetReadabilityPolicy:return a.readabilityPolicy=t.payload.readabilityPolicy,a;case f.SetReadabilityDisplayStrategy:return a.readabilityDisplayStrategy=t.payload.readabilityDisplayStrategy,a;case f.SetGenerationStrategy:return a.generationStrategy=t.payload.generationStrategy,l(),a;case f.SetColorBehavior:return a.colorBehavior=t.payload.colorBehavior,l(),a;case f.SetSuggestionStrategy:switch(t.payload.namedOperation){case M.Add:a.suggestionStrategy|=t.payload.suggestionStrategy;break;case M.Remove||M.Delete:a.suggestionStrategy&=~t.payload.suggestionStrategy;break;default:a.suggestionStrategy=t.payload.suggestionStrategy}return a;case f.SetSuggestionSize:return a.suggestionsSize=t.payload.size,l(),a;case f.SetElementSize:return a.elementSize=t.payload.size,l(),a;case f.SetTemplate:return a.template=t.payload.template,l(),a;default:return e}},re=function(e,t){var a=e.colorPalette;e.active;return{colorPalette:ie(null!==a&&void 0!==a?a:new oe("initial palette"),t)}},ce=function(e){var t=e.children,a=Object(o.useReducer)(re,u),n=Object(j.a)(a,2),l=n[0],r=n[1];return i.a.createElement(d.Provider,{value:{state:l,dispatch:r}},t)},ue=function(){return i.a.createElement(ce,null,i.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.ce8b8587.chunk.js.map